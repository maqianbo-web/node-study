<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/login.css">
</head>
<body>
    <div>
        <span>账号</span>
        <input type="text" id="userName">
    </div>
    <div>
        <span>密码</span>
        <input type="text" id="passWord">
    </div>
    <div style="margin-top: 10px">
        <button id="getLogin">get登录</button>
        <button id="postLogin">post登录</button>
    </div>

    <script>
        const userName = document.querySelector('#userName')
const passWord = document.querySelector('#passWord')
const getLogin = document.querySelector('#getLogin')
const postLogin = document.querySelector('#postLogin')


getLogin.onclick = () => {
    fetch(`http://localhost:3000/?userName=${userName.value}&passWord=${passWord.value}`)
    .then(res => res.json())
    .then(data => {
        if(data.ok === 1){
            location.href = '/home.html'
        }else{
            console.log('账号密码错误')
        }
    })
}

postLogin.onclick = () => {
    fetch(`http://localhost:3000/`,{
        method: 'post',
        body: JSON.stringify({
            userName: userName.value,
            passWord: passWord.value
        }),
        headers: {
            'content-Type': 'application/json'
        }
    })
    .then(res => res.json())
    .then(data => {
        if(data.ok === 1){
            location.href = '/home.html'
        }else{
            console.log('账号密码错误')
        }
    })
}
    </script>
</body>
</html>